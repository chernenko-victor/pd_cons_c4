#N canvas 827 239 527 327 12;
#X obj 233 63 notein;
#X obj 320 63 ctlin;
#X floatatom 241 113 5 0 0 0 - - - 12;
#X floatatom 285 113 5 0 0 0 - - - 12;
#X floatatom 329 113 5 0 0 0 - - - 12;
#X floatatom 373 113 5 0 0 0 - - - 12;
#X floatatom 417 113 5 0 0 0 - - - 12;
#X floatatom 461 113 5 0 0 0 - - - 12;
#X obj 259 321 osc~;
#X obj 296 191 mtof;
#X obj 259 405 clip~ -1 1;
#X obj 316 503 dac~;
#X obj 259 364 *~;
#X obj 388 191 / 127;
#X obj 842 180 sel 0;
#X obj 434 270 vline~;
#X msg 388 228 \$1 5;
#X obj 305 153 stripnote;
#X msg 850 219 0 500;
#X obj 259 230 +~;
#X obj 330 251 osc~;
#X obj 330 284 *~;
#X obj 1139 321 *~ 100;
#X obj 330 220 /~ 2;
#X obj 1194 182 / 127;
#X obj 1277 182 sel 0;
#X obj 1240 261 vline~;
#X msg 1194 219 \$1 20;
#X msg 1285 221 0 50;
#X obj 1164 275 *~;
#X text 233 16 notein принимает миди сигналы: левый выход - номер ноты \, средний - velocity \, правый - номер канала;
#X text -16 190 mtof преобразует номер миди-ноты в частоту;
#X text -141 144 stripnote отбрасывает сообщения note off \, левый выход - номер миди-ноты \, правый - velocity;
#X text -48 229 mtof преобразует номер миди-ноты в частоту;
#X text 434 190 диапазон midi velocity 0-127 \, переводим в диапазон 0-1;
#X text 796 110 sel 0 - выбирает сообщения note off;
#X text 400 297 vline~ объект линейной огибающей \, когда на вход приходит список из двух чисел \, первое число задает значание \, к которому происходит линейное движение за время \, заданное вторым числом;
#X text 434 218 в сообщении на место \$1 подставляется число \, которое приходит на вход \, в данном случае значение амплитуды;
#X text 400 152 амплитудная огибающая - фаза атаки;
#X text 803 136 амплитудная огибающая - фаза релиза;
#X text 830 252 за 500 милисекунд амплитуда уменьшится до 0;
#X connect 0 0 2 0;
#X connect 0 0 17 0;
#X connect 0 1 3 0;
#X connect 0 1 17 1;
#X connect 0 1 14 0;
#X connect 0 1 25 0;
#X connect 0 2 4 0;
#X connect 1 0 5 0;
#X connect 1 1 6 0;
#X connect 1 2 7 0;
#X connect 8 0 12 0;
#X connect 9 0 19 0;
#X connect 9 0 23 0;
#X connect 10 0 11 0;
#X connect 10 0 11 1;
#X connect 12 0 10 0;
#X connect 13 0 16 0;
#X connect 14 0 18 0;
#X connect 15 0 12 1;
#X connect 16 0 15 0;
#X connect 17 0 9 0;
#X connect 17 1 13 0;
#X connect 17 1 24 0;
#X connect 18 0 15 0;
#X connect 19 0 8 0;
#X connect 20 0 21 0;
#X connect 21 0 19 1;
#X connect 22 0 21 1;
#X connect 23 0 20 0;
#X connect 24 0 27 0;
#X connect 25 0 28 0;
#X connect 26 0 29 0;
#X connect 26 0 29 1;
#X connect 27 0 26 0;
#X connect 28 0 26 0;
#X connect 29 0 22 0;
